@model CinemaBookingWeb.Models.tickets

@{
    ViewBag.Title = "Thanh toán thành công";
    Layout = "~/Views/Shared/_LayoutHome.cshtml";
}

<div class="container py-5">
    <div class="card shadow-lg border-success">
        <div class="card-header bg-success text-white text-center">
            <h1 class="fw-bold">Thanh toán thành công!</h1>
        </div>
        <div class="card-body">
            <div class="row mb-4">
                <div class="col text-center">
                    <i class="bi bi-check-circle-fill text-success" style="font-size: 4rem;"></i>
                    <h2 class="mt-3">Cảm ơn bạn, @Model.user, đã đặt vé tại Rạp Phim!</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <h4 class="fw-bold">Thông tin khách hàng</h4>
                    <ul class="list-group">
                        <li class="list-group-item">
                            <strong>Họ và tên:</strong> @Model.user
                        </li>
                        <li class="list-group-item">
                            <strong>Số điện thoại:</strong> @Model.phone
                        </li>
                        <li class="list-group-item">
                            <strong>Mã hóa đơn:</strong> @Model.maHD
                        </li>
                        <li class="list-group-item">
                            <strong>Ngày thanh toán:</strong> @DateTime.Now.ToString("dd/MM/yyyy HH:mm")
                        </li>
                        <li class="list-group-item">
                            <strong>Số ghế:</strong>
                            @foreach (var choiceseat in Model.seats)
                            {
                                @foreach (var seat in ViewBag.Seats)
                                {
                                    if (choiceseat.SeatId == seat.SeatId)
                                    {

                                        <span>@seat.SeatNumber (Loại ghế:@seat.SeatType) |</span>

                                        break;
                                    }
                                }
                            }
                        </li>
                        <li class="list-group-item">
                            <strong>Combo:</strong><br />
                            @foreach (var choiceCombo in Model.BookingCombo)
                            {
                                @foreach (var combo in ViewBag.Combo)
                                {
                                    if (choiceCombo.ComboId == combo.ComboId)
                                    {

                                        @choiceCombo.Quantity <span>x</span> @combo.Name <br />

                                        break;
                                    }
                                }
                            }
                        </li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h4 class="fw-bold">Thông tin đơn hàng</h4>
                    <ul class="list-group">
                        <li class="list-group-item">
                            <strong>Rạp:</strong> @Model.cinema.Name
                        </li>
                        <li class="list-group-item">
                            <strong>Địa chỉ:</strong> @Model.cinema.Location
                        </li>
                        <li class="list-group-item">
                            <strong>Phim:</strong> @Model.movie.Title
                        </li>
                        <li class="list-group-item">
                            <strong>Suất chiếu:</strong> @Model.showtime.Hall, @Model.showtime.StartTime.ToString("dd/MM/yyyy HH:mm")
                        </li>
                        <li class="list-group-item">
                            <strong>Tổng tiền:</strong> @String.Format("{0:N0} VNĐ", Model.totalPrice)
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="card-footer text-center">
            <a href="/" class="btn btn-primary btn-lg">
                <i class="bi bi-house-door-fill"></i> Về trang chủ
            </a>
            <a href="/Tickets/Index" class="btn btn-success btn-lg">
                <i class="bi bi-ticket-fill"></i> Đặt vé mới
            </a>
        </div>
    </div>
</div>
